<!DOCTYPE html>
<html>
<script type="text/javascript" src="https://ale-brest-ts-prod.ale-connect.com/jamc/personalized/akio/externalcrm/js/integration.js"></script>
<script type="text/javascript">

function associate() {
	akio.integration.associateCustomer(
		{
			extCrmId:document.getElementById('customerId').value,
			firstname:document.getElementById('firstname').value,
			lastname:document.getElementById('lastname').value,
			email:document.getElementById('email').value
		},
	['extCrmId']
	);
}

function dissociate() {
        akio.integration.dissociateCustomer(['extCrmId']);
}

function sendEmail() {
	akio.integration.sendSpontaneousMail({
                "extCrmId": document.getElementById('customerId').value,
                "firstname": document.getElementById('firstname').value,
                "lastname": document.getElementById('lastname').value,
                "email": document.getElementById('email').value
            }, ['extCrmId'], document.getElementById('email').value, {
		htmlBody:"<strong>myContent</strong>", subject:"Test Subject", mailboxId:1});

}

function call() {
	akio.integration.callCustomer({
		"extCrmId": document.getElementById('customerId').value,
		"firstname": document.getElementById('firstname').value,
		"lastname": document.getElementById('lastname').value,
		"email": document.getElementById('email').value
	}, ['extCrmId'], document.getElementById('phoneNumber').value);

}

</script>
<style>
html, body {
	width:100%;
}
label,input  {
	float:left;
	clear:both;
}
#actions {
	clear:both;
}
</style>
<body>
	<h1>CRM ALE Connect TS prod</h1>
	<form style="height:2000px" onsubmit="return false">
		<label>Customer Id :</label>
		<input type="text" id="customerId" value="12345678" />
		<label>Firstname :</label>
		<input type="text" id="firstname" value="Andre" />
		<label>Lastname :</label>
		<input type="text" id="lastname" value="JARNOUX" />
		<label>Email :</label>
		<input type="text" id="email" value="andre.jarnoux@al-enterprise.com" />
		<label>Phone :</label>
		<input type="text" id="phoneNumber" value="61000" />
		<div id="actions">
			<button onclick="associate()">Associate</button>
			<button onclick="dissociate()">Dissociate</button>
			<button onclick="sendEmail()">Email</button>
			<button onclick="call()">Call</button>
		</div>
	</form>
</body>
</html>
